[tox]
envlist = py36-{tests,docs}

[travis]
python = 
  3.6: py36

[travis:env]
TOX_ENV =
  tests: tests
  docs: docs

[testenv:py36-tests]
deps =
  -rrequirements.txt
  -rtests/requirements.txt

commands=
  py.test \
    --cov {envsitepackagesdir}/webgeocalc \
    --cov-report term-missing \
    --verbose 
    {posargs}

[testenv:py36-docs]
deps =
  -rdocs/requirements.txt

commands = 
    sphinx-build docs "{toxworkdir}/docs/_build" --color -W -bhtml {posargs}
    sphinx-build docs "{toxworkdir}/docs/_build" --color -W -bdoctest {posargs}
    sphinx-build docs "{toxworkdir}/docs/_build" --color -W -bcoverage {posargs}
    /bin/cat {toxworkdir}/docs/_build/python.txt